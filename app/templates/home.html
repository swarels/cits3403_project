{% extends 'base.html' %}
{% block content %}
<div class="page" id="page">
  <div class="form-container">
    
      <img class="icon" src="https://dreamlightvalleywiki.com/images/7/70/Remy.png" width = 150px>

      <h2>Sign In!</h2>

      <form class="inline" name="login" action="" method="post">

          <div class="form-group">
            <input id="csrf_token" name="csrf_token" type="hidden" value="username">
            <span><label for="username"><i class="material-icons">person</i></label>
              <input type="text" id="username" name="username" required placeholder="Username"
                value="{{request.form.username }}">
            </span>
            <br/>
            <span><label for="password"><i class="material-icons">lock</i></label>
              <input type="password" id="password" name="password" required placeholder="Password"
                value=""> </span>
              <br/>
            <span>
              <input id="remember" name="remember" type="checkbox">
              <label for = "remember">Remember me?</label>
            </span>
            <br/>
            <input type="submit" id="signin-button" value="Sign In" name="LogInButton">
          </div>
          
      </form>

  <div class="signUpLink">
      <a href="/signup">Create an account!</a>
  </div>

  <div class="preferred_namelink">
    <a href="/preferredname">Chatroom demo</a>
  </div>
<script>
  /**
         * Add form elements to an array, once selecting submit
         **/
        const form = document.querySelector('form');
        form.addEventListener('submit', onSubmit);

        // Function for submit
        function onSubmit(event) {
            console.log("onSubmit function triggered");
            event.preventDefault();                 // Prevent default when submit is pressed
            // Initialize answers array
            const form_answers = [];

            // Get the values of the form (with tags input or select)
            const inputs = form.querySelectorAll('input, select');
            
            // Loop through inputs, pushing to the answers array
            inputs.forEach(input => {
                if (input.name == "LogInButton") {
                    return;
                }
                form_answers.push(input.value);
            })
            // Print array to console
            console.log("Array of form_answers: ");
            console.log(form_answers.slice(1,3))
        }
</script>

<!-- <script>     
  var signinButton = document.getElementById("signin-button");    // Was gonna be functionality for the button to bring you another page
  signinButton.addEventListener('click', function() {
    window.location.href = "/loading";
  });
</script> -->
{% endblock %}
